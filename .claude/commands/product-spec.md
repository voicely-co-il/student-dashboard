# Voicely Dashboard - Product Specification v1.0

## Overview
××¢×¨×›×ª ×“×©×‘×•×¨×“×™× ×œ× ×™×”×•×œ ×•××¢×§×‘ ××—×¨ ×ª×œ××™×“×™ ×¤×™×ª×•×— ×§×•×œ ×©×œ Voicely.

---

## 1. Student Dashboard (×ª×œ××™×“×™× ×¤×¨×˜× ×™×™×)

### 1.1 Target Users
×ª×œ××™×“×™× ×‘×©×™×¢×•×¨×™× ×¤×¨×˜×™×™× (1-on-1) ×¢× ×¢× ×‘×œ ××• ××•×¨×•×ª ××—×¨×•×ª.

### 1.2 Core Features

#### Dashboard Home
- [ ] **Progress Overview** - ×¡×™×›×•× ×”×ª×§×“××•×ª ×›×œ×œ×™
- [ ] **Recent Lessons** - ×©×™×¢×•×¨×™× ××—×¨×•× ×™× ×¢× ×ª××¨×™×š ×•× ×•×©×
- [ ] **Next Lesson** - ×”×©×™×¢×•×¨ ×”×‘× ×¢× countdown
- [ ] **Achievements** - ×”×™×©×’×™× ×•×ª×’×™× ×©× ×¦×‘×¨×•

#### AI Insights (××•×ª× ×” ×‘× ×ª×•× ×™× ××”×ª××œ×•×œ×™×)
- [ ] **Personal Tips** - ×˜×™×¤×™× ××•×ª×××™× ××™×©×™×ª ××‘×•×¡×¡×™ AI
- [ ] **Focus Areas** - ×ª×—×•××™× ×œ×©×™×¤×•×¨ ×©×–×•×”×• ××”×©×™×¢×•×¨×™×
- [ ] **Progress Trends** - ×’×¨×¤×™× ×©×œ ×”×ª×§×“××•×ª ×œ××•×¨×š ×–××Ÿ

#### Recordings & Practice
- [ ] **My Recordings** - ×”×§×œ×˜×•×ª ×ª×¨×’×•×œ ×©×”×ª×œ××™×“ ×”×¢×œ×”
- [ ] **AI Feedback** - ××©×•×‘ AI ×¢×œ ×”×§×œ×˜×•×ª
- [ ] **Practice Exercises** - ×ª×¨×’×™×œ×™× ××•××œ×¦×™×

#### Lesson History
- [ ] **Past Lessons List** - ×¨×©×™××ª ×©×™×¢×•×¨×™× ×¢× ×¤×™×œ×˜×¨×™×
- [ ] **Lesson Summary** - ×¡×™×›×•× AI ×œ×›×œ ×©×™×¢×•×¨
- [ ] **Key Takeaways** - × ×§×•×“×•×ª ×¢×™×§×¨×™×•×ª ××›×œ ×©×™×¢×•×¨

#### Gamification & Engagement
- [ ] **Streak System** - ×¨×¦×£ ×™××™ ×ª×¨×’×•×œ (ğŸ”¥)
  - ××•× ×” ×™××™× ×¨×¦×•×¤×™× ×©×œ ×ª×¨×’×•×œ/×©×™×¢×•×¨
  - Streak Freeze - ×”×’× ×” ×¢×œ ×”×¨×¦×£ (×¤×¢× ×‘×©×‘×•×¢)
  - Milestone celebrations (7, 30, 100, 365 ×™××™×)
- [ ] **XP Points** - × ×§×•×“×•×ª ×¢×œ ×›×œ ×¤×¢×•×œ×”
  - ×ª×¨×’×•×œ ×™×•××™: 10 XP
  - ×”×©×œ××ª ×©×™×¢×•×¨: 50 XP
  - ×”×¢×œ××ª ×”×§×œ×˜×”: 20 XP
  - ×§×‘×œ×ª ××©×•×‘ AI: 15 XP
- [ ] **Levels** - ×¨××•×ª ×”×ª×§×“××•×ª (××ª×—×™×œ â†’ ××•××—×”)
- [ ] **Daily Goals** - ××˜×¨×” ×™×•××™×ª (X ×“×§×•×ª ×ª×¨×’×•×œ)
- [ ] **Badges** - ×ª×’×™ ×”×™×©×’×™× ×œ×¤×™ rarity:
  - Common (××¤×•×¨) - ×”×™×©×’×™× ×‘×¡×™×¡×™×™×
  - Rare (×›×—×•×œ) - ×”×™×©×’×™× ××ª×§×“××™×
  - Epic (×¡×’×•×œ) - ×”×™×©×’×™× ××™×•×—×“×™×
  - Legendary (×–×”×‘) - ×”×™×©×’×™× × ×“×™×¨×™×

---

## 1.2 Group Student Dashboard (×ª×œ××™×“×™ ×§×‘×•×¦×”)

### Target Users
×ª×œ××™×“×™× ×©×œ×•××“×™× ×‘××¡×’×¨×ª ×§×‘×•×¦×ª×™×ª (×›×’×•×Ÿ ××§×”×œ×”, ×§×‘×•×¦×ª ×§×•×œ).

### Differences from Private Students

#### Group Features
- [ ] **Group Progress** - ×”×ª×§×“××•×ª ×”×§×‘×•×¦×” ×›×•×œ×”
- [ ] **Group Schedule** - ×œ×•×— ×–×× ×™× ×§×‘×•×¦×ª×™
- [ ] **Group Achievements** - ×”×™×©×’×™× ×§×‘×•×¦×ª×™×™× ××©×•×ª×¤×™×
- [ ] **Group Members** - ×¨×©×™××ª ×—×‘×¨×™ ×”×§×‘×•×¦×”
- [ ] **Group Leaderboard** - ×˜×‘×œ×ª ××•×‘×™×œ×™× ×©×‘×•×¢×™×ª (××™ ×ª×¨×’×œ ×”×›×™ ×”×¨×‘×”)
- [ ] **Weekly Challenges** - ××ª×’×¨×™× ×§×‘×•×¦×ª×™×™× ×©×‘×•×¢×™×™×

#### Personal Section (×‘×ª×•×š ×”×“×©×‘×•×¨×“ ×”×§×‘×•×¦×ª×™)
- [ ] **My Personal Insights** - ×˜×™×¤×™× ××™×©×™×™× ××”-AI
- [ ] **My Contribution** - ×”×¢×¨×›×ª ×”×ª×¨×•××” ×”××™×©×™×ª ×œ×§×‘×•×¦×”
- [ ] **Personal Goals** - ××˜×¨×•×ª ××™×©×™×•×ª ×‘×ª×•×š ×”×§×‘×•×¦×”
- [ ] **My Attendance** - × ×•×›×—×•×ª ××™×©×™×ª

### Shared vs Personal Data
| Data Type | Group View | Personal View |
|-----------|------------|---------------|
| Lesson Notes | Shared | Personal tips |
| Attendance | Group stats | Personal record |
| Recordings | Group performances | Personal practice |
| Feedback | General | Personalized AI |

---

## 2. Teacher Dashboard - Inbal (Owner/Admin)

### 2.1 Target User
×¢× ×‘×œ - ×× ×”×œ×ª ×•××•×¨×” ×¨××©×™×ª ×©×œ Voicely.

### 2.2 Full Permissions
××œ× ×’×™×©×” ×œ×›×œ ×”×¤×™×¦'×¨×™× ×•×”× ×ª×•× ×™× ×‘××¢×¨×›×ª.

### Core Features

#### Students Management
- [ ] **All Students View** - ×¨×©×™××ª ×›×œ ×”×ª×œ××™×“×™×
- [ ] **Student Profiles** - ×¤×¨×•×¤×™×œ ××¤×•×¨×˜ ×œ×›×œ ×ª×œ××™×“
- [ ] **Add/Edit/Remove Students** - × ×™×”×•×œ ×ª×œ××™×“×™×
- [ ] **Assign to Groups** - ×©×™×•×š ×œ×§×‘×•×¦×•×ª

#### Groups Management
- [ ] **All Groups** - ×¨×©×™××ª ×§×‘×•×¦×•×ª
- [ ] **Create/Edit Groups** - ×™×¦×™×¨×” ×•×¢×¨×™×›×ª ×§×‘×•×¦×•×ª
- [ ] **Group Analytics** - ×¡×˜×˜×™×¡×˜×™×§×•×ª ×§×‘×•×¦×ª×™×•×ª

#### Lessons & Schedule
- [ ] **Calendar View** - ×œ×•×— ×©×™×¢×•×¨×™×
- [ ] **Schedule Lessons** - ×§×‘×™×¢×ª ×©×™×¢×•×¨×™×
- [ ] **Lesson Templates** - ×ª×‘× ×™×•×ª ×©×™×¢×•×¨

#### AI Tools (×”×¤×™×¦'×¨ ×”××¨×›×–×™!)
- [ ] **Semantic Search** - ×—×™×¤×•×© ×—×›× ×‘×›×œ ×”×ª××œ×•×œ×™×
  - ×—×™×¤×•×© ×œ×¤×™ × ×•×©×/××•×©×’
  - ×—×™×¤×•×© ×œ×¤×™ ×ª×œ××™×“
  - ×—×™×¤×•×© ×œ×¤×™ ×˜×•×•×— ×ª××¨×™×›×™×
- [ ] **Generate Lesson Plan** - ×™×¦×™×¨×ª ×ª×•×›× ×™×ª ×©×™×¢×•×¨ ××‘×•×¡×¡×ª AI
  - ××‘×•×¡×¡ ×”×™×¡×˜×•×¨×™×™×ª ×”×ª×œ××™×“
  - ×”××œ×¦×•×ª ×œ× ×•×©××™×
  - ×ª×¨×’×™×œ×™× ××•×ª×××™×
- [ ] **Student Insights** - ×ª×•×‘× ×•×ª AI ×¢×œ ×›×œ ×ª×œ××™×“
- [ ] **Bulk Analysis** - × ×™×ª×•×— ××’××•×ª ×›×œ×œ-××¢×¨×›×ª×™

#### Analytics & Reports
- [ ] **Business Dashboard** - × ×ª×•× ×™× ×¢×¡×§×™×™×
- [ ] **Student Progress Reports** - ×“×•×—×•×ª ×”×ª×§×“××•×ª
- [ ] **Revenue Tracking** - ××¢×§×‘ ×”×›× ×¡×•×ª
- [ ] **Attendance Reports** - ×“×•×—×•×ª × ×•×›×—×•×ª

#### System Administration
- [ ] **User Management** - × ×™×”×•×œ ××©×ª××©×™×
- [ ] **Permissions** - ×”×¨×©××•×ª
- [ ] **System Settings** - ×”×’×“×¨×•×ª ××¢×¨×›×ª
- [ ] **Sync Management** - × ×™×”×•×œ ×¡× ×›×¨×•×Ÿ Google Drive
- [ ] **Billing** - ×—×™×•×‘ ×•×ª×©×œ×•××™×

---

## 2.1 Teacher Dashboard - Other Teachers (Limited)

### Target Users
××•×¨×•×ª × ×•×¡×¤×•×ª ×©×™×’×•×™×¡×• ×œ-Voicely.

### Permission Levels

#### Can Access
- [ ] **Own Students Only** - ×¨×§ ×”×ª×œ××™×“×™× ×©×œ×”×Ÿ
- [ ] **Own Schedule** - ×”×œ×•×— ×–×× ×™× ×©×œ×”×Ÿ
- [ ] **Own Groups** - ×”×§×‘×•×¦×•×ª ×©×”×Ÿ ×× ×”×œ×•×ª
- [ ] **AI Search** - ×—×™×¤×•×© ×¨×§ ×‘×ª××œ×•×œ×™× ×©×œ ×”×ª×œ××™×“×™× ×©×œ×”×Ÿ
- [ ] **Generate Lesson Plans** - ×¨×§ ×œ×ª×œ××™×“×™× ×©×œ×”×Ÿ

#### Cannot Access
- [ ] **Other Teachers' Students** - ×ª×œ××™×“×™× ×©×œ ××•×¨×•×ª ××—×¨×•×ª
- [ ] **Business Analytics** - × ×ª×•× ×™× ×¢×¡×§×™×™×
- [ ] **Revenue Data** - × ×ª×•× ×™ ×”×›× ×¡×•×ª
- [ ] **System Settings** - ×”×’×“×¨×•×ª ××¢×¨×›×ª
- [ ] **User Management** - × ×™×”×•×œ ××©×ª××©×™×
- [ ] **Billing** - ×—×™×•×‘×™×

### Features Comparison

| Feature | Inbal (Admin) | Other Teachers |
|---------|---------------|----------------|
| All Students | Yes | Own Only |
| All Groups | Yes | Own Only |
| AI Search | Full | Own Students |
| Lesson Plans | Full | Own Students |
| Business Data | Yes | No |
| System Admin | Yes | No |
| Sync Control | Yes | No |
| Add Teachers | Yes | No |

---

## Critical System Features

### Authentication & Login
- **Method:** Google OAuth (×ª×œ××™×“×™× ××ª×—×‘×¨×™× ×¢× ×”×’'×™××™×™×œ ×©×œ×”×)
- **Flow:**
  1. ×ª×œ××™×“ ××§×‘×œ ×”×–×× ×” ×‘×•×•××˜×¡××¤/××™×™×œ ×¢× ×§×™×©×•×¨
  2. ×œ×•×—×¥ ×¢×œ ×”×§×™×©×•×¨ â†’ ××•×¤× ×” ×œ-Google Login
  3. ××—×¨×™ ××™××•×ª â†’ × ×›× ×¡ ×œ×“×©×‘×•×¨×“ ×”××™×©×™
- **First Login:** ×™×¦×™×¨×ª ×¤×¨×•×¤×™×œ ××•×˜×•××˜×™×ª

### Student Identification (×§×™×©×•×¨ ×ª××œ×•×œ×™× ×œ×ª×œ××™×“×™×)
**×‘×¢×™×”:** ××™×š ×”××¢×¨×›×ª ×™×•×“×¢×ª ×œ×§×©×¨ ×ª××œ×•×œ ×œ×ª×œ××™×“?

**××¤×©×¨×•×™×•×ª:**
1. **××‘× ×” ×ª×™×§×™×•×ª ×‘-Drive** - ×›×œ ×ª×œ××™×“ ×‘×ª×™×§×™×™×” × ×¤×¨×“×ª
2. **×©× ×‘×›×•×ª×¨×ª** - "Transcript: Vocal Lesson â€” Ariana | Dec 04"
3. **×˜×‘×œ×ª mapping** - ×§×™×©×•×¨ ×™×“× ×™ ×©×œ ×©× â†” user_id
4. **AI extraction** - ×–×™×”×•×™ ×©× ××ª×•×š ×”×ª××œ×•×œ ×¢×¦××•

**×”××œ×¦×”:** ×©×™×œ×•×‘ ×©×œ 2+3 - ×–×™×”×•×™ ××›×•×ª×¨×ª + ×˜×‘×œ×ª mapping ×œ×ª×™×§×•×Ÿ

### Onboarding Flow (×”×•×¡×¤×ª ×ª×œ××™×“ ×—×“×©)
```
1. ×¢× ×‘×œ ××•×¡×™×¤×” ×ª×œ××™×“ ×‘××¢×¨×›×ª (×©× + ××™××™×™×œ + ×˜×œ×¤×•×Ÿ)
2. ×”××¢×¨×›×ª ×©×•×œ×—×ª ×”×–×× ×” (×•×•××˜×¡××¤/××™×™×œ) ×¢× ×§×™×©×•×¨
3. ×ª×œ××™×“ ×œ×•×—×¥ â†’ Google OAuth â†’ ×¤×¨×•×¤×™×œ × ×•×¦×¨
4. ×ª×œ××™×“ ×¨×•××” ××ª ×”×“×©×‘×•×¨×“ ×©×œ×•
```

### Notifications (×”×ª×¨××•×ª)
**×¢×¨×•×¦×™×:**
- Push Notifications (Web + App)
- WhatsApp (via API)
- Email

**×¡×•×’×™ ×”×ª×¨××•×ª:**
- [ ] ×ª×–×›×•×¨×ª ×œ×©×™×¢×•×¨ (×™×•× ×œ×¤× ×™ / ×©×¢×” ×œ×¤× ×™)
- [ ] ×¡×™×›×•× ×©×™×¢×•×¨ ×–××™×Ÿ
- [ ] ×˜×™×¤ ×—×“×© ××”-AI
- [ ] ×”×™×©×’ ×—×“×© × ×¤×ª×—
- [ ] ×ª×–×›×•×¨×ª ×œ×ª×¨×’×•×œ
- [ ] âš ï¸ ×¨×¦×£ ×‘×¡×›× ×”! (×œ× ×ª×¨×’×œ×ª ×”×™×•× - ×”×¨×¦×£ ×©×œ×š ×¢×•××“ ×œ×”×™×©×‘×¨)

**Backend:** Vercel Cron Jobs + Supabase Edge Functions

### Mobile App
**×’×™×©×”:** React Native / Expo (×©×™×ª×•×£ ×§×•×“ ×¢× ×”-Web)
- ××•×ª×• UI ××•×ª×× ×œ××•×‘×™×™×œ
- Push notifications
- ×”×§×œ×˜×” ×™×©×™×¨×•×ª ××”××¤×œ×™×§×¦×™×”

### Payments (×ª×©×œ×•××™×)
**Phase 1:** ×œ×™× ×§ ×ª×©×œ×•× ×™×“× ×™ (bit/paybox)
**Phase 2:** ××™× ×˜×’×¨×¦×™×” ×¢×:
- Stripe
- PayPlus (×™×©×¨××œ×™)
- ×× ×•×™ ×—×•×“×©×™ ××•×˜×•××˜×™

---

## Technical Architecture

### User Roles (Supabase)
```
admin     - Inbal (full access)
teacher   - Other teachers (limited)
student   - Individual students
group_student - Students in groups
```

### Database Relations
```
users
  â””â”€â”€ profiles (role, teacher_id for students)
        â””â”€â”€ lessons (teacher_id, student_id)
        â””â”€â”€ groups (owner_id)
              â””â”€â”€ group_members (user_id)
        â””â”€â”€ transcripts (linked via student matching)
        â””â”€â”€ student_name_mapping (name â†’ user_id)
```

### AI Features Backend
- **pgvector** for semantic search
- **OpenAI embeddings** for transcript chunks
- **Claude/GPT** for lesson plan generation
- **Edge Functions** for serverless AI operations

### Notifications Stack
- **Vercel Cron** - scheduled jobs
- **Supabase Edge Functions** - processing
- **Twilio/WhatsApp Business API** - WhatsApp messages
- **SendGrid/Resend** - emails
- **Firebase Cloud Messaging** - push notifications

---

## Security & Privacy

### Data Sensitivity Classification
| ×¨××” | ×¡×•×’ × ×ª×•× ×™× | ×“×•×’×××•×ª |
|-----|-----------|---------|
| ğŸ”´ **Critical** | ×ª×•×›×Ÿ ××™×©×™ | ×ª××œ×•×œ×™×, ×”×§×œ×˜×•×ª, learning_insights |
| ğŸŸ  **High** | ×¤×¨×˜×™× ××–×”×™× | email, phone, ×©× ××œ× |
| ğŸŸ¡ **Medium** | × ×ª×•× ×™ ×”×ª×§×“××•×ª | scores, streaks, attendance |
| ğŸŸ¢ **Low** | ×ª×•×›×Ÿ ×¦×™×‘×•×¨×™ | achievements, exercises, leaderboard metadata |

### Row Level Security (RLS) Policies

#### Students
- [ ] ×™×›×•×œ×™× ×œ×¨××•×ª **×¨×§** ××ª ×”× ×ª×•× ×™× ×©×œ×”×
- [ ] ×™×›×•×œ×™× ×œ×”×¢×œ×•×ª ×”×§×œ×˜×•×ª **×¨×§** ×œ×ª×™×§×™×™×” ×©×œ×”×
- [ ] **×œ×** ×™×›×•×œ×™× ×œ×¨××•×ª ×ª×œ××™×“×™× ××—×¨×™×

#### Teachers
- [ ] ×™×›×•×œ×™× ×œ×¨××•×ª **×¨×§** ××ª ×”×ª×œ××™×“×™× ×©×œ×”×
- [ ] **×œ×** ×™×›×•×œ×™× ×œ×¨××•×ª ×ª×œ××™×“×™× ×©×œ ××•×¨×•×ª ××—×¨×•×ª
- [ ] ×™×›×•×œ×™× ×œ×¢×¨×•×š lessons ×•-feedback **×¨×§** ×œ×ª×œ××™×“×™× ×©×œ×”×

#### Admins
- [ ] ×’×™×©×” ××œ××” ×œ×›×œ ×”× ×ª×•× ×™×
- [ ] Audit log ×¢×œ ×›×œ ×¤×¢×•×œ×”

### Storage Security (×”×§×œ×˜×•×ª)
- [ ] Bucket ×¤×¨×˜×™ (×œ× public)
- [ ] Signed URLs ×¢× expiry (1 ×©×¢×”)
- [ ] Folder structure: `/{user_id}/{recording_id}`
- [ ] RLS ×¢×œ storage.objects

### Audit Logging
×œ×•×’ ×›×œ ×’×™×©×” ×œ× ×ª×•× ×™× ×¨×’×™×©×™×:
- [ ] ×¦×¤×™×™×” ×‘×ª××œ×•×œ×™×
- [ ] ×”×•×¨×“×ª ×”×§×œ×˜×•×ª
- [ ] ×©×™× ×•×™ ×”×¨×©××•×ª
- [ ] Admin impersonation

### GDPR Compliance
- [ ] **Right to Access** - export ×›×œ ×”× ×ª×•× ×™× ×©×œ ×”××©×ª××©
- [ ] **Right to Deletion** - ××—×™×§×ª ×›×œ ×”× ×ª×•× ×™×
- [ ] **Consent Tracking** - ×ª×™×¢×•×“ ×”×¡×›××•×ª
- [ ] **Privacy Policy** - ××¡××š ××“×™× ×™×•×ª ×¤×¨×˜×™×•×ª

### API Security
- [ ] Rate limiting ×¢×œ Edge Functions
- [ ] Input validation ×¢×œ ×›×œ endpoint
- [ ] Error messages ×œ× ×—×•×©×¤×™× ××™×“×¢ ×¤× ×™××™
- [ ] CORS ××•×’×‘×œ ×œ×“×•××™×™× ×™× ××•×¨×©×™×

---

## Implementation Priority

### Phase 1 (MVP)
1. Teacher Dashboard - AI Search
2. Teacher Dashboard - Lesson Plan Generation
3. Basic Student Dashboard
4. **Streak System + Daily Goals** (engagement ×‘×¡×™×¡×™)

### Phase 2
1. Group Student Dashboard
2. Other Teachers Dashboard (limited)
3. Advanced Analytics

### Phase 3
1. Recording Upload & AI Feedback
2. Practice Exercises
3. Billing & Payments

---

## Notes
- All UI must be RTL (Hebrew)
- Mobile-responsive design
- Dark mode support (optional)
